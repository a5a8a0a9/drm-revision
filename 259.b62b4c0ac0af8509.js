"use strict";(self.webpackChunkdrm_revision=self.webpackChunkdrm_revision||[]).push([[259],{259:(X,m,d)=>{d.r(m),d.d(m,{RuleComponent:()=>R});var l=d(177),e=d(598);const p=["header"],f=["row"],_=["noData"],g=["tableContainer"];function C(t,s){1&t&&e.eu8(0)}function w(t,s){1&t&&e.eu8(0)}const D=function(t,s){return{row:t,columns:s}};function E(t,s){if(1&t&&(e.qex(0),e.DNE(1,w,1,0,"ng-container",2),e.bVm()),2&t){const n=s.$implicit,i=e.XpG(2);e.R7$(1),e.Y8G("ngTemplateOutlet",i.rowTpl)("ngTemplateOutletContext",e.l_i(2,D,n,i.columns))}}function T(t,s){if(1&t&&(e.qex(0),e.DNE(1,E,2,5,"ng-container",5),e.bVm()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngForOf",n.data)}}function b(t,s){1&t&&e.eu8(0)}const h=function(t){return{columns:t}};function I(t,s){if(1&t&&e.DNE(0,b,1,0,"ng-container",2),2&t){const n=e.XpG();e.Y8G("ngTemplateOutlet",n.noDataTpl)("ngTemplateOutletContext",e.eq3(2,h,n.columns))}}let v=(()=>{class t{constructor(n){this.renderer=n,this.data=[],this.columns=[],this.startX=0,this.startWidth=0,this.resizingColumnIndex=-1}onResizeMouseDown(n,i){this.resizingColumnIndex=i,this.startX=n.pageX,this.startWidth=this.columns[i].width,this.renderer.addClass(document.body,"resizing");const o=this.renderer.listen("document","mousemove",this.onResizeMouseMove.bind(this)),r=this.renderer.listen("document","mouseup",()=>{this.onResizeMouseUp(),o(),r()});n.preventDefault()}onResizeMouseMove(n){if(this.resizingColumnIndex<0)return;const o=this.startWidth+(n.pageX-this.startX);o>50&&(this.columns[this.resizingColumnIndex].width=o)}onResizeMouseUp(){this.resizingColumnIndex=-1,this.renderer.removeClass(document.body,"resizing")}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["yee-table"]],contentQueries:function(i,o,r){if(1&i&&(e.wni(r,p,5,e.C4Q),e.wni(r,f,5,e.C4Q),e.wni(r,_,5,e.C4Q)),2&i){let a;e.mGM(a=e.lsd())&&(o.headerTpl=a.first),e.mGM(a=e.lsd())&&(o.rowTpl=a.first),e.mGM(a=e.lsd())&&(o.noDataTpl=a.first)}},viewQuery:function(i,o){if(1&i&&e.GBs(g,5),2&i){let r;e.mGM(r=e.lsd())&&(o.tableContainer=r.first)}},inputs:{data:"data",columns:"columns"},standalone:!0,features:[e.aNF],decls:9,vars:6,consts:[[1,"table-container"],["tableContainer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],["emptyBlock",""],[4,"ngFor","ngForOf"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0,1)(2,"table")(3,"thead"),e.DNE(4,C,1,0,"ng-container",2),e.k0s(),e.j41(5,"tbody"),e.DNE(6,T,2,1,"ng-container",3),e.DNE(7,I,1,4,"ng-template",null,4,e.C5r),e.k0s()()()),2&i){const r=e.sdS(8);e.R7$(4),e.Y8G("ngTemplateOutlet",o.headerTpl)("ngTemplateOutletContext",e.eq3(4,h,o.columns)),e.R7$(2),e.Y8G("ngIf",null==o.data?null:o.data.length)("ngIfElse",r)}},dependencies:[l.MD,l.Sq,l.bT,l.T3],styles:["[_nghost-%COMP%]{display:block}"]})}}return t})(),O=(()=>{class t{constructor(n,i){this.el=n,this.renderer=i,this.startX=0,this.startWidth=0}ngOnInit(){this.renderer.setStyle(this.el.nativeElement,"position","relative"),this.handleEl=this.renderer.createElement("div"),this.renderer.addClass(this.handleEl,"resize-handle"),this.renderer.appendChild(this.el.nativeElement,this.handleEl),this.renderer.listen(this.handleEl,"mousedown",n=>this.onMouseDown(n))}onMouseDown(n){n.stopPropagation(),n.preventDefault(),this.startX=n.pageX,this.startWidth=this.column.width,this.renderer.addClass(document.body,"resizing"),this.moveUnlisten=this.renderer.listen("document","mousemove",i=>this.onMouseMove(i)),this.upUnlisten=this.renderer.listen("document","mouseup",()=>this.onMouseUp())}onMouseMove(n){const o=this.startWidth+(n.pageX-this.startX);o>50&&(this.column.width=o)}onMouseUp(){this.renderer.removeClass(document.body,"resizing"),this.moveUnlisten&&this.moveUnlisten(),this.upUnlisten&&this.upUnlisten()}ngOnDestroy(){this.moveUnlisten&&this.moveUnlisten(),this.upUnlisten&&this.upUnlisten()}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(e.aKT),e.rXU(e.sFG))}}static{this.\u0275dir=e.FsC({type:t,selectors:[["","yeeResizableColumn",""]],inputs:{column:"column"},standalone:!0})}}return t})();const y=[{field:"name",header:"name",width:150},{field:"type",header:"type",width:150},{field:"status",header:"status",width:150},{field:"ownerId",header:"ownerId",width:200},{field:"hasQa",header:"hasQa",width:100},{field:"qaUserId",header:"qaUserId",width:200},{field:"secondaryOwnerId",header:"secondaryOwnerId",width:200},{field:"description",header:"description",width:300}];var c=function(t){return t[t.DOING=0]="DOING",t[t.DONE=1]="DONE",t}(c||{}),u=function(t){return t[t.NEW=0]="NEW",t[t.MODIFIED=1]="MODIFIED",t[t.DELETED=2]="DELETED",t}(u||{});const F=Array.from({length:100},(t,s)=>({id:`rule-${s}`,groupId:"g1",projectId:"p1",documentId:"d1",name:`rule-${s}`,description:`This is a description for rule-${s}`,type:s%2?u.NEW:u.MODIFIED,status:s%2?c.DOING:c.DONE,ownerId:"owner_1",hasQa:!0,qaUserId:"qa_1",secondaryOwnerId:"owner_2"}));function M(t,s){if(1&t&&(e.j41(0,"th",10),e.EFF(1),e.nrm(2,"div",11),e.k0s()),2&t){const n=s.$implicit;e.xc7("width",n.width,"px"),e.Y8G("column",n),e.R7$(1),e.SpI(" ",n.header," ")}}function U(t,s){if(1&t&&(e.j41(0,"tr"),e.DNE(1,M,3,4,"th",9),e.k0s()),2&t){const n=s.columns;e.R7$(1),e.Y8G("ngForOf",n)}}function G(t,s){if(1&t&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&t){const n=s.$implicit,i=e.XpG().row;e.xc7("min-width",n.width,"px"),e.R7$(1),e.SpI(" ",i[n.field]," ")}}function N(t,s){if(1&t&&(e.j41(0,"tr"),e.DNE(1,G,2,3,"td",12),e.k0s()),2&t){const n=s.columns;e.R7$(1),e.Y8G("ngForOf",n)}}function z(t,s){if(1&t&&(e.j41(0,"tr")(1,"td",13),e.EFF(2,"\u66ab\u7121\u8cc7\u6599"),e.k0s()()),2&t){const n=s.columns;e.R7$(1),e.BMQ("colspan",n.length)}}let R=(()=>{class t{constructor(){this.groupId="",this.projectId="",this.documentId="",this.tableData=F,this.tableColumnList=y}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["yee-rule"]],standalone:!0,features:[e.aNF],decls:13,vars:2,consts:[[2,"display","flex","flex-direction","column","width","100%","height","100%","overflow","hidden"],[2,"border-bottom","1px solid #ddd"],[2,"padding","8px","cursor","pointer"],[2,"padding","8px","border-top","1px solid #ddd"],[2,"height","100%","overflow","auto","position","relative"],[2,"height","100%",3,"data","columns"],["header",""],["row",""],["noData",""],["yeeResizableColumn","",3,"width","column",4,"ngFor","ngForOf"],["yeeResizableColumn","",3,"column"],[1,"resize-handle"],[3,"minWidth",4,"ngFor","ngForOf"],[1,"no-data"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"details",1)(2,"summary",2),e.EFF(3,"Document 001"),e.k0s(),e.nrm(4,"div",3),e.k0s(),e.j41(5,"div",4)(6,"yee-table",5),e.DNE(7,U,2,1,"ng-template",null,6,e.C5r),e.DNE(9,N,2,1,"ng-template",null,7,e.C5r),e.DNE(11,z,3,1,"ng-template",null,8,e.C5r),e.k0s()()()),2&i&&(e.R7$(6),e.Y8G("data",o.tableData)("columns",o.tableColumnList))},dependencies:[l.MD,l.Sq,v,O]})}}return t})()}}]);